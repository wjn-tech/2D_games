# Tasks: Establish Sandbox Core Systems

- [x] **Phase 1: Core Data & Attributes**
    - [x] 1.1 Define `BaseAttribute` and `CharacterData` resources.
    - [x] 1.2 Implement `LifespanManager` (natural decay + action-based acceleration).
    - [x] 1.3 Create the "Succession/Reincarnation" UI flow.

- [x] **Phase 2: World & Layered Interaction**
    - [x] 2.1 Implement `LayerManager` for toggling collision layers.
    - [x] 2.2 Create `LayerDoor` interactive object.
    - [x] 2.3 Implement "Magnet" item pickup logic in `LootItem.gd`.

- [x] **Phase 3: NPC & Settlement**
    - [x] 3.1 Implement NPC AI with `Alignment` and `Loyalty` stats.
    - [x] 3.2 Create Dialogue and Quest UI systems.
    - [x] 3.3 Implement `SettlementManager` for job assignments.

- [x] **Phase 4: Crafting, Alchemy & Trading**
    - [x] 4.1 Create `CraftingStation` base class and specific stations (Anvil, Lab).
    - [x] 4.2 Implement Ammo consumption logic for ranged weapons.
    - [x] 4.3 Create `MerchantComponent` for NPC trading.

- [x] **Phase 5: Industrial & Formations**
    - [x] 5.1 Implement `PowerGridManager` and basic energy nodes.
    - [x] 5.2 Create "Conveyor" and "Logic Gate" tile-based entities.
    - [x] 5.3 Implement `FormationManager` for mobile and static buffs.

- [x] **Phase 6: Environment & Ecology**
    - [x] 6.1 Implement `WeatherManager` with gameplay modifiers.
    - [x] 6.2 Create simple "Food Chain" AI for animals.
